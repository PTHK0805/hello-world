<form [formGroup]="form" (ngSubmit)="login()">
  <div *ngIf="form.errors" class="alert alert-danger">
    Username or Password is invalid.
  </div>
  <div formGroupName="account">
    <div class="form-group">
      <label for="username">Username</label>
      <input
        formControlName="username"
        type="text"
        id="username"
        class="form-control"
        (change)="log(username)">
    
        <!--<div *ngIf="form.get('username')!.touched && form.get('username')!.invalid"
            class="alert alert-danger">
          Username is required.
        </div>-->
        <div *ngIf="username?.pending">Checking Username from database...</div>
        <div *ngIf="username!.touched && username!.invalid" class="alert alert-danger">
          <div *ngIf="username?.errors?.['required']">Username is required</div>
          <div *ngIf="username?.errors?.['minlength']">Username should be mininum {{username?.errors?.['minlength'].requiredLength}} characters</div>
          <div *ngIf="username?.errors?.['cannotContainSpace']">Username cannot contain space</div>
          <div *ngIf="username?.errors?.['shouldBeUnique']">Username is already taken</div>
        </div>
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input
        formControlName="password"
        type="password"
        id="password"
        class="form-control">
    </div>
  </div>

  <button class="btn btn-primary" type="submit" (click)="log(form)">Sign Up</button>
</form>
